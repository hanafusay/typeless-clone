# koe!

**koe** = å£°ï¼ˆã“ãˆï¼‰ã€‚macOS ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼å¸¸é§ã®éŸ³å£°å…¥åŠ›ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã§ã™ã€‚
`fn` ã‚’æŠ¼ã—ã¦ã„ã‚‹é–“ã ã‘éŒ²éŸ³ã—ã€é›¢ã—ãŸã‚‰æ–‡å­—èµ·ã“ã—ã—ã¦ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã«è²¼ã‚Šä»˜ã‘ã¾ã™ã€‚

## ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- é–‹ç™ºè€…ã®ã‚µãƒ¼ãƒãƒ¼ã«ãƒ‡ãƒ¼ã‚¿ãŒé€ä¿¡ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“
- éŸ³å£°èªè­˜ã¯ Apple ã®ã‚ªãƒ³ãƒ‡ãƒã‚¤ã‚¹å‡¦ç†ã‚’ä½¿ç”¨ã—ã¦ãŠã‚Šã€éŒ²éŸ³ãƒ‡ãƒ¼ã‚¿ãŒ Mac ã®å¤–ã«å‡ºã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“
- Gemini ã«ã‚ˆã‚‹ãƒªãƒ©ã‚¤ãƒˆæ©Ÿèƒ½ã‚’ä½¿ã†å ´åˆã®ã¿ã€ã‚ãªãŸè‡ªèº«ãŒç™ºè¡Œã—ãŸ API ã‚­ãƒ¼ã§ Google ã«æ–‡å­—èµ·ã“ã—ãƒ†ã‚­ã‚¹ãƒˆãŒé€ä¿¡ã•ã‚Œã¾ã™
- API ã‚­ãƒ¼ã‚„è¨­å®šã¯ã™ã¹ã¦ Mac å†…ï¼ˆUserDefaultsï¼‰ã«ä¿å­˜ã•ã‚Œã¾ã™
- ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å«ã¿ã¾ã›ã‚“ï¼ˆApple ç´”æ­£ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ã¿ï¼‰
- åˆ©ç”¨çŠ¶æ³ã®åé›†ãƒ»é€ä¿¡ã¯ä¸€åˆ‡è¡Œã„ã¾ã›ã‚“

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆDMG ã‹ã‚‰ï¼‰

é–‹ç™ºç’°å¢ƒã¯ä¸è¦ã§ã™ã€‚macOS 14 ä»¥ä¸Šã§å‹•ä½œã—ã¾ã™ã€‚

### 1. ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

[GitHub Releases](../../releases/latest) ã‹ã‚‰æœ€æ–°ã® `Koe-*.dmg` ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚

### 2. ã‚¢ãƒ—ãƒªã‚’ Applications ã«ã‚³ãƒ”ãƒ¼

DMG ã‚’é–‹ã„ã¦ `Koe.app` ã‚’ `Applications` ãƒ•ã‚©ãƒ«ãƒ€ã«ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ã—ã¾ã™ã€‚

### 3. åˆå›èµ·å‹•ï¼ˆGatekeeper ã®è¨±å¯ï¼‰

ã“ã®ã‚¢ãƒ—ãƒªã¯ã‚¢ãƒ‰ãƒ›ãƒƒã‚¯ç½²åã®ãŸã‚ã€åˆå›èµ·å‹•æ™‚ã« macOS ã® Gatekeeper ã«ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã™ã€‚

1. `/Applications/Koe.app` ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ â†’ ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹ã®ã§ **ã€Œå®Œäº†ã€** ã‚’æŠ¼ã™
2. **ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£** ã‚’é–‹ã
3. ç”»é¢ä¸‹éƒ¨ã«è¡¨ç¤ºã•ã‚Œã‚‹ **ã€Œã“ã®ã¾ã¾é–‹ãã€** ã‚’ã‚¯ãƒªãƒƒã‚¯
4. ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§ **ã€Œé–‹ãã€** ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼ˆä»¥é™ã¯ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã§èµ·å‹•å¯èƒ½ï¼‰

### 4. æ¨©é™ã‚’è¨±å¯

åˆå›èµ·å‹•æ™‚ã«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€ä»¥ä¸‹ã‚’ã™ã¹ã¦è¨±å¯ã—ã¦ãã ã•ã„ã€‚

- ãƒã‚¤ã‚¯
- éŸ³å£°èªè­˜
- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ï¼ˆã‚·ã‚¹ãƒ†ãƒ è¨­å®š > ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ > ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ï¼‰
- å…¥åŠ›ç›£è¦–ï¼ˆã‚·ã‚¹ãƒ†ãƒ è¨­å®š > ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ > å…¥åŠ›ç›£è¦–ï¼‰

### 5. API ã‚­ãƒ¼ã‚’è¨­å®š

ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ã®ã‚¢ã‚¤ã‚³ãƒ³ â†’ã€Œè¨­å®šã€ã‹ã‚‰ **Gemini API ã‚­ãƒ¼** ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
[Google AI Studio](https://aistudio.google.com/apikey) ã§ç„¡æ–™ã§å–å¾—ã§ãã¾ã™ã€‚

> API ã‚­ãƒ¼ã‚’è¨­å®šã—ãªãã¦ã‚‚ Apple ã®éŸ³å£°èªè­˜ã§æ–‡å­—èµ·ã“ã—ã§ãã¾ã™ãŒã€
> Gemini ã«ã‚ˆã‚‹æ ¡æ­£ï¼ˆãƒªãƒ©ã‚¤ãƒˆï¼‰ã‚’ä½¿ã†å ´åˆã¯ã‚­ãƒ¼ãŒå¿…è¦ã§ã™ã€‚

### ä½¿ã„æ–¹

- `fn` ã‚’æŠ¼ã—ãªãŒã‚‰è©±ã™
- `fn` ã‚’é›¢ã™ã¨ç¢ºå®šã—ã¦è²¼ã‚Šä»˜ã‘
- ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ã®ã‚¢ã‚¤ã‚³ãƒ³ã‹ã‚‰æ‰‹å‹•éŒ²éŸ³ã‚‚å¯èƒ½

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒˆ

- `ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã‚’è¨±å¯ã—ã¦ãã ã•ã„` ãŒæ¶ˆãˆãªã„
  - è¨±å¯å¯¾è±¡ãŒ `/Applications/Koe.app` ã‹ç¢ºèª
  - ã‚¢ãƒ—ãƒªå†èµ·å‹•ã‚’å®Ÿæ–½

- `fn` ã§èµ·å‹•ã—ãªã„
  - `å…¥åŠ›ç›£è¦–` ãŒ ON ã‹ç¢ºèª
  - ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ > `ğŸŒã‚­ãƒ¼ã‚’æŠ¼ã—ã¦` ã‚’ `ä½•ã‚‚ã—ãªã„` ã«å¤‰æ›´

- è¨­å®šã‚’ã‚„ã‚Šç›´ã—ãŸã„
  - **ã‚¿ãƒ¼ãƒŸãƒŠãƒ«.app**ï¼ˆLaunchpad > ãã®ä»– > ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼‰ã‚’é–‹ãã€ä»¥ä¸‹ã‚’ 1 è¡Œãšã¤è²¼ã‚Šä»˜ã‘ã¦å®Ÿè¡Œã—ã¦ãã ã•ã„

```bash
tccutil reset Accessibility com.koe.app
tccutil reset ListenEvent com.koe.app
tccutil reset PostEvent com.koe.app
```

> å®Ÿè¡Œå¾Œã€ã‚¢ãƒ—ãƒªã‚’å†èµ·å‹•ã™ã‚‹ã¨æ¨©é™ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒå†è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

---

## é–‹ç™ºè€…å‘ã‘

### å‰æç’°å¢ƒ

- macOS 14 ä»¥ä¸Š
- Xcode Command Line Tools
- Swift 5.9+ï¼ˆ`swift build` ãŒå‹•ãã“ã¨ï¼‰

### ã‚½ãƒ¼ã‚¹ã‹ã‚‰ãƒ“ãƒ«ãƒ‰

```bash
git clone https://github.com/hanafusay/koe.git
cd koe
cp .env.example .env
# .env ã« GEMINI_API_KEY=... ã‚’è¨­å®š
./build.sh
open /Applications/Koe.app
```

`build.sh` ã¯ release ãƒ“ãƒ«ãƒ‰ â†’ .app ãƒãƒ³ãƒ‰ãƒ«ä½œæˆ â†’ ã‚³ãƒ¼ãƒ‰ç½²å â†’ `/Applications` ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ã§ä¸€æ‹¬ã§è¡Œã„ã¾ã™ã€‚

æ¨©é™ä»˜ä¸å¾Œã«ã‚¢ãƒ—ãƒªã‚’å†èµ·å‹•:

```bash
pkill -x Koe; open /Applications/Koe.app
```

### DMG ã®ä½œæˆ

```bash
./create-dmg.sh
# dist/Koe-1.1.0.dmg ãŒç”Ÿæˆã•ã‚Œã‚‹
```

### ãƒªãƒªãƒ¼ã‚¹ã®ä½œã‚Šæ–¹

ã‚¿ã‚°ã‚’ push ã™ã‚‹ã¨ GitHub Actions ãŒè‡ªå‹•ã§ DMG ã‚’ä½œæˆã—ã€GitHub Releases ã«å…¬é–‹ã—ã¾ã™ã€‚

```bash
git tag v1.1.0
git push origin v1.1.0
```
